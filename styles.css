/* Main Styles for the Task Manager Application
Defines the overall look, feel, and responsiveness.
- Includes styles for the modal, task items, form elements, and buttons.
*/
body { 
    font-family: 'Inter', sans-serif; 
    background-color: #f3f4f6; 
}

.modal { 
    display: none; 
    position: fixed; 
    z-index: 1000; 
    left: 0; 
    top: 0; 
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgba(0,0,0,0.5); 
    justify-content: center; 
    align-items: center; 
}

.modal-content { 
    background-color: #fefefe !important;
    margin: auto; 
    padding: 2rem; 
    border: 1px solid #888; 
    width: 90%; 
    max-width: 550px; 
    border-radius: 0.5rem; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
    max-height: 90vh; 
    overflow-y: auto; 
}

.close-button { 
    color: #aaa; 
    float: right; 
    font-size: 28px; 
    font-weight: bold; 
    cursor: pointer; 
}

.close-button:hover, .close-button:focus { 
    color: black; 
    text-decoration: none; 
    cursor: pointer; 
}

/* MODIFIED: Removed the hardcoded .task-[color] border styles. 
   This will now be handled dynamically by JavaScript. */

.task-completed { 
    opacity: 0.6; 
}

.task-completed h3 { 
    text-decoration: line-through; 
}

.task-confirming-delete { 
    border: 2px dashed #ef4444; 
} /* Style for delete confirmation */

@keyframes fadeIn { 
    from { opacity: 0; } 
    to { opacity: 1; } 
}

.modal.active { 
    display: flex; 
    animation: fadeIn 0.3s ease-out; 
}

#add-task-btn { 
    transition: all 0.2s ease-in-out; 
}

#add-task-btn:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); 
}

.task-item { 
    transition: border-left-color 0.3s ease, background-color 0.3s ease, opacity 0.2s ease, border 0.2s ease; 
    padding: 0.5rem; 
    flex-wrap: wrap;
}

.task-item:not(.task-completed):not([data-status="blue"]):not([data-confirming="true"]):hover { 
    filter: brightness(95%); 
}

.countdown-timer { 
    font-size: 0.75rem; 
    font-style: italic; 
    min-height: 1rem; 
}

.duration-input { 
    width: 6rem; 
}

.form-label { 
    @apply block text-sm font-medium text-gray-700 mb-1; 
}

.form-hint { 
    @apply text-xs text-gray-500 mt-1 italic; 
}

.progress-display { 
    font-size: 0.85rem; 
    font-weight: 500; 
    display: inline-block; 
    margin-right: 0.25rem; 
}

.control-button { 
    @apply text-xs font-bold py-1 px-2 rounded focus:outline-none focus:ring-2 focus:ring-opacity-50 shadow; 
}

.control-button-green { @apply bg-green-500 hover:bg-green-600 text-white focus:ring-green-400; }
.control-button-yellow { @apply bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-400; }
.control-button-blue { @apply bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400; }
.control-button-gray { @apply bg-gray-400 hover:bg-gray-500 text-gray-800 focus:ring-gray-300; }
.control-button-red { @apply bg-red-500 hover:bg-red-600 text-white focus:ring-red-400; }

.edit-progress-button { 
    @apply text-xs ml-1 underline cursor-pointer; 
}

.progress-input { 
    @apply text-xs border border-gray-300 rounded px-1 py-0.5 w-16; 
}

.action-area-text { 
    @apply text-xs font-semibold mr-2; 
    flex-shrink: 1;
}

.misses-display { 
    @apply text-xs font-medium; 
}

.weekday-checkbox, .month-checkbox, .occurrence-checkbox, .day-checkbox { 
    @apply h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-1 peer; 
}

.sub-option-group { 
    @apply mt-2 pl-4 border-l-2 border-gray-100; 
}

.grid-cols-checkboxes { 
    @apply grid grid-cols-3 sm:grid-cols-4 gap-x-2 gap-y-1; 
}

.grid-cols-days { 
    @apply grid grid-cols-5 sm:grid-cols-7 gap-x-1 gap-y-1; 
}

fieldset { 
    @apply border border-gray-200 p-3 rounded-md mb-4; 
}

legend { 
    @apply text-sm font-medium text-gray-600 px-1; 
}

.checkbox-label { 
    @apply flex items-center text-sm px-2 py-1 border border-gray-200 rounded-md cursor-pointer hover:bg-gray-50 transition-colors duration-150; 
}

.peer:checked + .checkbox-label-text { 
    @apply bg-indigo-100 border-indigo-300 ring-1 ring-indigo-200; 
}

.day-checkbox-label { 
    @apply flex items-center justify-center text-sm px-1 py-1 border border-gray-200 rounded-md cursor-pointer hover:bg-gray-50 transition-colors duration-150 min-w-[30px]; 
}

.peer:checked + .day-checkbox-label-text { 
    @apply bg-indigo-100 border-indigo-300 ring-1 ring-indigo-200; 
}

.miss-input { 
    @apply text-xs border border-gray-300 rounded px-1 py-0.5 w-10 text-center mx-1 bg-transparent; 
}

.common-buttons-container { 
    @apply flex space-x-2 mt-2; 
} /* Container for Edit/Delete */

.task-action-button {
    @apply text-xs font-medium p-1 rounded;
    color: inherit; /* Inherit the high-contrast color from the parent */
    text-shadow: inherit; /* Inherit the text-shadow as well */
}

.task-action-button:hover {
    background-color: rgba(0, 0, 0, 0.1); /* Subtle hover for light backgrounds */
}

/* NEW: Specificity for high-contrast action buttons on problematic backgrounds */
.task-item[data-status="red"] .task-action-button,
.task-item[data-status="black"] .task-action-button {
    color: #FFFFFF !important; /* Force white text on dark red/black backgrounds */
    text-shadow: 0 0 2px rgba(0,0,0,0.7) !important;
}


.collapsible-header span {
    transition: transform 0.2s ease-in-out;
}

.collapsible-header.collapsed span {
    transform: rotate(-90deg);
}

/* Dark Theme Styles */
body.dark {
    background-color: #1f2937; /* gray-800 */
    color: #f9fafb; /* gray-50 */
}

body.dark .max-w-4xl { /* The main container */
    background-color: #374151; /* gray-700 */
    color: #f9fafb; /* gray-50 */
}

body.dark h1, body.dark h2, body.dark legend, body.dark .text-gray-800, body.dark .text-gray-700 {
    color: #f9fafb; /* gray-50 */
}

body.dark .modal-content {
    background-color: #374151 !important; /* gray-700 */
    border-color: #4b5563; /* gray-600 */
}

body.dark .form-label {
    color: #d1d5db; /* gray-300 */
}

body.dark input[type="text"],
body.dark input[type="datetime-local"],
body.dark input[type="number"],
body.dark select {
    background-color: #4b5563; /* gray-600 */
    border-color: #6b7280; /* gray-500 */
    color: #f9fafb; /* gray-50 */
}

body.dark input::placeholder {
    color: #9ca3af; /* gray-400 */
}

body.dark .form-hint {
    color: #9ca3af; /* gray-400 */
}

body.dark .close-button {
    color: #9ca3af; /* gray-400 */
}
body.dark .close-button:hover {
    color: #f9fafb; /* gray-50 */
}

body.dark fieldset {
    border-color: #4b5563; /* gray-600 */
}

body.dark .checkbox-label, body.dark .day-checkbox-label {
    border-color: #4b5563; /* gray-600 */
}
body.dark .checkbox-label:hover, body.dark .day-checkbox-label:hover {
    background-color: #4b5563; /* gray-600 */
}

body.dark .peer:checked + .checkbox-label-text,
body.dark .peer:checked + .day-checkbox-label-text {
    background-color: #4f46e5; /* indigo-600 */
    border-color: #6366f1; /* indigo-500 */
    color: #f9fafb; /* gray-50 */
}

body.dark .text-gray-500 {
    color: #9ca3af; /* gray-400 */
}

body.dark .bg-gray-300 {
    background-color: #6b7280; /* gray-500 */
}
body.dark .bg-gray-300:hover {
    background-color: #9ca3af; /* gray-400 */
}
body.dark .text-gray-800 {
    color: #f9fafb; /* gray-50 */
}




